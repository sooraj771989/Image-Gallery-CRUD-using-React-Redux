import React, { Component } from "react";
import { Link, NavLink } from "react-router-dom";
import { logoutUser } from "../../actions/authActions";
import PropTypes from "prop-types";
import { connect } from "react-redux";
import isEmpty from "is-empty";
class Header extends Component {
  onLogoutClick = (e) => {
    e.preventDefault();
    this.props.logoutUser();
  };
  render() {
    const { user } = this.props.auth;
    return (
      <div className="fixed bg-white shadow w-full z-10 mx-auto">
        <div className="w-full mx-auto flex justify-between px-2 items-center">
          <Link
            to="/"
            className="text-black px-4 py-4 font-bold flex items-center text-black"
          >
            <svg
              width="44"
              height="30"
              viewBox="0 0 44 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M16.94 21.2102C17.2099 22.3794 17.215 23.3498 16.9553 24.1214C16.6895 24.8669 16.2199 25.6185 15.5463 26.3761C15.3685 26.554 15.1187 26.7759 14.7969 27.0417C14.4751 27.3076 14.1114 27.5695 13.7056 27.8274C13.2999 28.0852 12.8622 28.3231 12.3925 28.541C11.9228 28.7589 11.4801 28.9159 11.0644 29.0119C9.89515 29.2818 8.98173 29.3558 8.32413 29.234C7.67253 29.1381 7.30774 28.9213 7.22975 28.5835C7.14577 28.2197 7.18072 27.8969 7.3346 27.6151C7.48847 27.3333 7.64036 27.1613 7.79026 27.0994L8.29097 27.3122C8.45088 27.4121 8.66575 27.513 8.9356 27.6149C9.19944 27.6909 9.59119 27.6688 10.1109 27.5489C10.6045 27.4349 11.1842 27.219 11.8497 26.9011C12.5093 26.5573 13.1118 26.1445 13.6575 25.6627C14.2231 25.149 14.6667 24.5813 14.9885 23.9597C15.3362 23.332 15.4321 22.6804 15.2761 22.0049C15.1381 21.4072 14.5575 20.9666 13.5341 20.6828C12.5307 20.3671 11.0466 20.3403 9.08185 20.6023C8.07649 20.7523 7.07512 20.8603 6.07775 20.9264C5.07438 20.9665 4.14996 20.9336 3.30448 20.8277C2.47898 20.6899 1.78139 20.4541 1.21172 20.1203C0.636042 19.7606 0.270222 19.243 0.114256 18.5674C-0.0357111 17.9178 0.00220263 17.2523 0.227997 16.5707C0.453792 15.8891 0.769534 15.2414 1.17522 14.6278C1.6009 13.9821 2.05456 13.3985 2.53621 12.8768C3.01786 12.355 3.42356 11.9193 3.75332 11.5695C4.02313 11.3156 4.39787 10.9828 4.87753 10.571C5.37717 10.1272 5.9088 9.70342 6.47241 9.29962C7.05601 8.86383 7.63861 8.48302 8.22021 8.15716C8.8218 7.79933 9.34346 7.56943 9.78517 7.46745C10.3048 7.34747 10.6886 7.4094 10.9365 7.65323C11.1843 7.89705 11.3683 8.27879 11.4882 8.79846C11.5902 9.24017 11.6462 9.71987 11.6563 10.2375C11.6663 10.7552 11.6604 11.2629 11.6384 11.7606C11.6165 12.2583 11.5825 12.704 11.5366 13.0978C11.5107 13.4595 11.4837 13.6984 11.4557 13.8143C11.4058 14.0722 11.3248 14.2551 11.2129 14.363C11.101 14.4709 11.0191 14.5309 10.9671 14.5429C10.8632 14.5669 10.7962 14.514 10.7662 14.384C10.7482 14.3061 10.7282 14.1602 10.7062 13.9463C10.7042 13.7005 10.6932 13.4156 10.6731 13.0919C10.6791 12.7621 10.6531 12.4123 10.5951 12.0425C10.5631 11.6668 10.5051 11.297 10.4211 10.9332C10.2891 10.3616 10.1672 9.95186 10.0552 9.70403C9.94326 9.45619 9.7054 9.37426 9.34164 9.45825C8.97787 9.54223 8.50818 9.76014 7.93258 10.112C7.35097 10.4378 6.76837 10.8186 6.18478 11.2544C5.55521 11.7282 4.95964 12.2899 4.39805 12.9395C3.86245 13.5832 3.3948 14.2248 2.99511 14.8645C2.59542 15.5041 2.28367 16.1098 2.05986 16.6814C1.85604 17.2211 1.78712 17.6338 1.85311 17.9197C1.92509 18.2315 2.20194 18.4823 2.68366 18.6721C3.18536 18.83 3.785 18.9378 4.48257 18.9957C5.20612 19.0476 5.98863 19.0586 6.8301 19.0285C7.67158 18.9984 8.49106 18.9324 9.28855 18.8304C9.95613 18.7584 10.6947 18.6973 11.5041 18.6473C12.3136 18.5973 13.0892 18.6372 13.8307 18.767C14.5723 18.8969 15.2339 19.1546 15.8155 19.5403C16.3912 19.9001 16.766 20.4567 16.94 21.2102ZM30.5866 21.0975C30.9105 22.5006 30.7987 23.498 30.2511 24.0896C29.7095 24.7073 28.6722 25.1931 27.1392 25.547C26.6195 25.667 25.9779 25.733 25.2144 25.7451C24.4828 25.7771 23.7463 25.7282 23.0047 25.5984C22.2892 25.4625 21.6496 25.2407 21.0859 24.933C20.5482 24.6192 20.2164 24.1895 20.0904 23.6439C20.0844 23.6179 20.0674 23.485 20.0394 23.2451C20.0314 22.9733 20.0363 22.6985 20.0543 22.4206C20.0663 22.1168 20.1002 21.849 20.1562 21.6171C20.2321 21.3533 20.335 21.2064 20.4649 21.1764C20.7248 21.1164 20.8857 21.1614 20.9476 21.3113C21.0296 21.4292 21.1096 21.657 21.1875 21.9948C21.2955 22.4625 21.5474 22.8422 21.9432 23.134C22.3649 23.4198 22.8397 23.6386 23.3674 23.7905C23.895 23.9423 24.4337 24.0232 24.9834 24.0332C25.559 24.0371 26.0547 23.9911 26.4704 23.8951C26.8082 23.8171 27.143 23.7262 27.4748 23.6222C27.8265 23.4863 28.1303 23.3203 28.3862 23.1244C28.642 22.9285 28.8208 22.6957 28.9228 22.4258C29.0506 22.15 29.0696 21.8172 28.9796 21.4274C28.9016 21.0896 28.7847 20.7609 28.6288 20.4411C28.4928 20.0893 28.2549 19.6516 27.9151 19.128C27.6012 18.5983 27.1604 17.9338 26.5927 17.1343C26.019 16.3089 25.2814 15.2476 24.3798 13.9505C22.4627 11.2184 21.1514 9.15383 20.4457 7.75677C19.734 6.33373 19.3531 5.57324 19.3032 5.47531C19.1013 5.54928 18.8825 5.66823 18.6466 5.83214C18.4108 5.99606 18.1649 6.17597 17.9091 6.37188C17.6733 6.5358 17.4374 6.69972 17.2016 6.86364C16.9658 7.02756 16.7659 7.16949 16.602 7.28943C16.1044 7.62327 15.6677 7.98408 15.2919 8.37187C14.9102 8.73368 14.5805 9.0835 14.3027 9.42131C14.0189 9.73314 13.781 10.007 13.5892 10.2429C13.3913 10.4528 13.2145 10.5757 13.0586 10.6117C12.6688 10.7017 12.393 10.5738 12.231 10.228C12.0691 9.88223 11.9581 9.57943 11.8982 9.3196C11.8322 9.03379 12.082 8.63401 12.6476 8.12028C13.2072 7.58056 13.9357 7.00186 14.833 6.38416C15.7304 5.76646 16.7088 5.14376 17.768 4.51605C18.8473 3.85636 19.8606 3.26663 20.808 2.74687C21.7553 2.2271 22.5588 1.7953 23.2183 1.45145C23.8779 1.1076 24.2467 0.926683 24.3246 0.908686C24.5065 0.866696 24.6224 0.894667 24.6724 0.992602C24.7484 1.08454 24.7953 1.16948 24.8133 1.24743C24.8493 1.40333 24.6964 1.6302 24.3547 1.92805C24.0389 2.2199 23.6482 2.54273 23.1825 2.89655C22.7428 3.24438 22.2741 3.58521 21.7765 3.91905C21.2788 4.25288 20.8761 4.52375 20.5683 4.73165L20.1756 4.98653C20.3535 5.1644 20.5154 5.33228 20.6613 5.49017C20.8072 5.64806 20.9652 5.85791 21.1351 6.11973C21.331 6.37555 21.5609 6.71932 21.8248 7.15102C22.1086 7.55075 22.4904 8.07838 22.9702 8.73393C23.8657 10.005 24.7483 11.2792 25.6179 12.5563C26.4875 13.8334 27.2711 15.0346 27.9688 16.1598C28.6864 17.2531 29.2701 18.2404 29.7199 19.1218C30.1897 19.9712 30.4786 20.6298 30.5866 21.0975ZM43.0298 7.92065C43.0838 8.1545 43.0428 8.45132 42.907 8.8111C42.7711 9.17089 42.6142 9.61763 42.4364 10.1513C42.2845 10.679 42.1337 11.3296 41.9838 12.1031C41.828 12.8507 41.7631 13.7551 41.7892 14.8165C41.8033 15.47 41.8743 16.1926 42.0023 16.9841C42.1563 17.7696 42.1723 18.4911 42.0505 19.1487C41.9865 19.4645 41.8676 19.7794 41.6938 20.0932C41.5459 20.401 41.3161 20.5909 41.0043 20.6629C40.7964 20.7109 40.6175 20.588 40.4676 20.2942C40.3436 19.9944 40.2576 19.7405 40.2097 19.5327C40.1317 19.1949 40.0747 18.5923 40.0386 17.7248C39.9965 16.8314 39.9815 15.877 39.9934 14.8616C39.9992 13.8202 40.0401 12.8119 40.116 11.8365C40.1859 10.8351 40.2967 10.0706 40.4486 9.54288C40.3846 9.50291 40.3106 9.47893 40.2267 9.47094C40.1368 9.43697 39.9619 9.44998 39.702 9.50997C39.702 9.50997 39.4872 9.58694 39.0575 9.74089C38.6477 9.86285 38.163 10.0158 37.6034 10.1997C37.0638 10.3517 36.5141 10.5196 35.9545 10.7036C35.3889 10.8615 34.9501 10.9765 34.6383 11.0485C34.1447 11.1625 33.687 11.2544 33.2652 11.3244C32.8435 11.3944 32.4647 11.4135 32.1289 11.3815C31.7931 11.3496 31.5103 11.2507 31.2804 11.0848C31.0506 10.9189 30.8936 10.6541 30.8097 10.2903C30.7617 10.0825 30.7936 9.92455 30.9056 9.81661C31.0435 9.70266 31.1774 9.6307 31.3073 9.6007C31.2813 9.6067 31.5951 9.60267 32.2487 9.58862C32.9223 9.54259 33.6748 9.42359 34.5062 9.23163C35.9613 8.8957 37.2814 8.50882 38.4667 8.07098C39.6719 7.60117 40.5103 7.20234 40.982 6.8745C41.1259 6.78654 41.2108 6.73956 41.2368 6.73356C41.3148 6.71556 41.4307 6.74353 41.5846 6.81747C41.9064 6.90739 42.2082 7.02928 42.4901 7.18316C42.7659 7.31105 42.9458 7.55688 43.0298 7.92065Z"
                fill="black"
              />
            </svg>
            <div className="ml-2 flex flex-col">
              <span className=" "> ImageGallery </span>
              <span className=" "> Photos for everyone </span>
            </div>
          </Link>
          <div className="text-gray-600 px-4 py-4 flex items-center">
            {isEmpty(user) ? (
              <div className="flex flex-col lg:flex-row">
                <NavLink activeClassName="active" className="px-4 active mb-2 lg:mb-0" to="/login">
                  Log In
                </NavLink>
                <NavLink
                  activeClassName="active"
                  className="px-4"
                  to="/register"
                >
                  Register
                </NavLink>
              </div>
            ) : (
              <button
                onClick={this.onLogoutClick}
                className="btn blue accent-3"
              >
                Logout
              </button>
            )}
          </div>
        </div>
        <div className="navbar-links w-full mx-auto flex flex-row px-2">
          <NavLink exact to="/" className="text-black px-4 py-4">
            Images
          </NavLink>
          <NavLink exact to="/editdashboard" className="text-black px-4 py-4">
            Edit Images
          </NavLink>
        </div>
      </div>
    );
  }
}
Header.propTypes = {
  logoutUser: PropTypes.func.isRequired,
  auth: PropTypes.object.isRequired,
};
const mapStateToProps = (state) => ({
  auth: state.auth,
});
export default connect(mapStateToProps, { logoutUser })(Header);
